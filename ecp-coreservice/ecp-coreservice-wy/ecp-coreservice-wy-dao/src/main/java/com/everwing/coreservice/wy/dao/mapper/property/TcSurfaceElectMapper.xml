<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.everwing.coreservice.wy.dao.mapper.property.TcSurfaceElectMapper">	<resultMap type="TcElectMeter" id="BaseResultMap">		<id column="id" property="id"/>		<result column="code" property="code"/>		<result column="position" property="position"/>		<result column="position_name" property="positionName"/>		<result column="relation_building" property="relationbuilding"/>		<result column="relation_building_name" property="relationbuildingName"/>		<result column="company_code" property="companycode"/>		<result column="init_amount" property="initamount"/>		<result column="min_amount" property="minamount"/>		<result column="max_amount" property="maxamount"/>		<result column="electricitymeter_type" property="electricitymeterType"/>		<result column="is_circle" property="iscycle"/>		<result column="state" property="state"/>		<result column="type" property="type"/>		<result column="parent_code" property="parentcode"/>		<result column="master_code" property="mastercode"/>		<result column="user_type" property="usertype"/>		<result column="is_billing" property="isbilling"/>		<result column="is_public" property="ispublic"/>		<result column="asset_no" property="assetno"/>		<result column="brand" property="brand"/>		<result column="specs" property="specs"/>		<result column="provider" property="provider"/>		<result column="provider_phone" property="providerphone"/>		<result column="assemble_person" property="assembleperson"/>		<result column="assemble_person_id" property="assemblepersonId"/>		<result column="assemble_time" property="assembletime"/>		<result column="create_id" property="createid"/>		<result column="create_time" property="createtime"/>		<result column="modify_id" property="modifyid"/>		<result column="modify_time" property="modifytime"/>		<result column="init_peak_value" property="initpeakvalue"/>		<result column="init_valley_value" property="initvalleyvalue"/>		<result column="init_average_value" property="initaveragevalue"/>		<result column="max_peak_value" property="maxPeakValue"/>		<result column="max_valley_value" property="maxValleyValue"/>		<result column="max_average_value" property="maxAverageValue"/>		<result column="electricitymeter_name" property="electricitymetername"/>		<result column="rate" property="rate"/>		<result column="project_id" property="projectId"/>		<result column="project_name" property="projectName"/>		<result column="meter_level" property="meterLevel"/>		<result column="modify_name" property="modifyName"  />		<result column="check_table" property="checkTable" />		<result column="describe_num" property="describeNum" />		<result column="group_table_coding" property="groupTableCoding"/>		<result column="group_table_name" property="groupTableName"/>		<result column="is_share"  property="isShare"/>		<result column="new_coding" property="newCoding"/>		<result column="external_coding" property="externalCoding"/>		<result column="elect_state" property="electState"/>		<result column="elect_code" property="electCode"/>	</resultMap>	<!-- 查询 -->	<select id="listPageElectMeterInfos" parameterType="TcElectMeterSearch" resultMap="BaseResultMap">		select  *  FROM   tc_electricity_meter  t   where 1 = 1		<if test="code != null and code != ''">			AND code LIKE CONCAT(CONCAT('%',#{code}),'%')		</if>	</select>	<!-- 查询表级别为非中端表 -->	<select id="listPageParentInfos" parameterType="TcElectMeterSearch" resultMap="BaseResultMap">		select  *  FROM   tc_electricity_meter  t		WHERE  meter_level!=12  AND  check_table=0		<if test="code != null and code != ''">			AND code LIKE CONCAT(CONCAT('%',#{code}),'%')		</if>	</select>	<!-- 新增水表基础数据信息 -->	<insert id="insert" parameterType="TcElectMeter">		INSERT INTO tc_electricity_meter				(id,				CODE,				position,				position_name,				relation_building,				relation_building_name,				company_code,				init_amount,	            min_amount,	            max_amount,	            electricitymeter_type,	            is_circle,	            state,	            type,	            parent_code,	            master_code,	            user_type,	            is_billing,	            is_public,				asset_no,				brand,				specs,				provider,				provider_phone,				assemble_person,				assemble_person_id,				assemble_time,				create_id,				create_time,				modify_id,				modify_time,				init_peak_value,				init_valley_value,				max_peak_value,				max_valley_value,				max_average_value,				init_average_value,				electricitymeter_name,				rate,				project_id,				project_name,				meter_level,				modify_name,				elect_code			    )values(			    	#{id},#{code},#{position},#{positionName},#{relationbuilding},#{relationbuildingName},#{companycode},#{initamount},			    	#{minamount},#{maxamount},#{electricitymeterType},#{iscycle},#{state},			    	#{type},#{parentcode},#{mastercode},#{usertype},#{isbilling},#{ispublic},			    	#{assetno},#{brand},#{specs},#{provider},#{providerphone},#{assembleperson},#{assemblepersonId},#{assembletime},			    	#{createid},#{createtime},#{modifyid},#{modifytime},#{initpeakvalue},#{initvalleyvalue},#{initaveragevalue},			    	#{maxPeakValue},#{maxValleyValue},#{maxAverageValue},			    	#{electricitymetername},#{rate},#{projectId},#{projectName},#{meterLevel},#{modifyName},#{electCode}			    )	</insert>	<!-- 修改水表基础数据信息 -->	<update id="modify" parameterType="TcElectMeter">			UPDATE tc_electricity_meter			<set>				id=#{id},				code=#{code},				position=#{position},				position_name=#{positionName},				relation_building=#{relationbuilding},				relation_building_name=#{relationbuildingName},				company_code=#{companycode},				init_amount=#{initamount},				min_amount=#{minamount},				max_amount=#{maxamount},				electricitymeter_type=#{electricitymeterType},				is_circle=#{iscycle},				state=#{state},				type=#{type},				parent_code=#{parentcode},				master_code=#{mastercode},				user_type=#{usertype},				is_billing=#{isbilling},				is_public=#{ispublic},				asset_no=#{assetno},				brand=#{brand},				specs=#{specs},				provider=#{provider},				provider_phone=#{providerphone},				assemble_person=#{assembleperson},				assemble_person_id=#{assemblepersonId},				assemble_time=#{assembletime},				create_id=#{createid},				create_time=#{createtime},				modify_id=#{modifyid},				modify_time=#{modifytime},				init_peak_value=#{initpeakvalue},				init_valley_value=#{initvalleyvalue},				init_average_value=#{initaveragevalue},				max_peak_value=#{maxPeakValue},				max_valley_value=#{maxValleyValue},				max_average_value=#{maxAverageValue},				electricitymeter_name=#{electricitymetername},				rate=#{rate},				project_id=#{projectId},				project_name=#{projectName},				meter_level=#{meterLevel},				modify_name=#{modifyName},				elect_code=#{electCode}			</set>			where 1=1 AND id = #{id}	</update>	<delete id="deleteSurface" parameterType="String">	 delete from tc_electricity_meter where 1 = 1  and id = #{Id}	</delete>	<!-- 查询最大流水码 以项目为准 -->	<select id="getCode" parameterType = "string" resultType="string">		select IFNULL(SUBSTR(MAX(code) FROM 5 FOR 9),0) + 1 from tc_electricity_meter tt where 1 = 1		AND tt.project_id = #{projectId}	</select>	<select id="SeleteByID" parameterType="string" resultMap="BaseResultMap">		select * from tc_electricity_meter where id = #{id}	</select></mapper>