<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.everwing.coreservice.wy.dao.mapper.common.AttachmentMapper">	<resultMap id="ResultMap" type="Attachment">		<result property="id" column="id"/>		<result property="tableId" column="table_id"/>		<result property="relationId" column="relation_id"/>		<result property="attachmentType" column="attachment_type"/>		<result property="attachmentKey" column="attachment_key"/>		<result property="attachmentName" column="attachment_name"/>		<result property="createrId" column="creater_id"/>		<result property="createrName" column="creater_name"/>		<result property="createTime" column="create_time"/>	</resultMap>	<resultMap id="ListResultMap" type="AttachmentList" extends="ResultMap">	</resultMap>	<select id="findByCondition" resultMap="ListResultMap" parameterType="AttachmentSearch">		SELECT * FROM t_attachment t WHERE 1=1		<if test="id != null and id != ''">			AND t.id = #{id}		</if>		<if test="tableId != null and tableId != ''">			AND t.table_id = #{tableId}		</if>		<if test="relationId != null and relationId != ''">			AND t.relation_id = #{relationId}		</if>		<if test="attachmentType != null and attachmentType != ''">			AND t.attachment_type = #{attachmentType}		</if>		<if test="attachmentKey != null and attachmentKey != ''">			AND t.attachment_key = #{attachmentKey}		</if>		<if test="attachmentName != null and attachmentName != ''">			AND t.attachment_name = #{attachmentName}		</if>	</select>	<insert id="batchInsert" parameterType="java.util.List">		INSERT INTO t_attachment		(			id,			table_id,			relation_id,			attachment_type,			attachment_key,			attachment_name,			creater_id,			creater_name,			create_time		)		VALUES		<foreach collection="list" index="index" item="item" separator=",">		(			UUID(),			#{item.tableId},			#{item.relationId},			#{item.attachmentType},			#{item.attachmentKey},			#{item.attachmentName},			#{item.createrId},			#{item.createrName},			sysdate()		)		</foreach>	</insert>	<delete id="delete" parameterType="Attachment">		DELETE FROM t_attachment WHERE 1=1		AND table_id = #{tableId}		<if test="relationId != null and relationId != ''">			AND relation_id = #{relationId}		</if>		<if test="attachmentKey != null and attachmentKey != ''">			AND attachment_key = #{attachmentKey}		</if>	</delete></mapper>