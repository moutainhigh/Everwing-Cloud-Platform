<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" ><mapper namespace="com.everwing.coreservice.wy.dao.mapper.configuration.bc.collection.union.back.TBcUnionBackHeadMapper" >	<resultMap type="TBcUnionBackHead" id="BaseResultMap">		<result property="id" 				column="id"					jdbcType="VARCHAR"/>		<result property="fileName" 		column="file_name"			jdbcType="VARCHAR"/>		<result property="totalId" 			column="total_id"			jdbcType="VARCHAR"/>		<result property="totalCount" 		column="total_count"		jdbcType="INTEGER"/>		<result property="totalAmount" 		column="total_amount"		jdbcType="DOUBLE"/>		<result property="completeCount" 	column="complete_count"		jdbcType="INTEGER"/>		<result property="completeAmount" 	column="complete_amount"	jdbcType="DOUBLE"/>		<result property="type" 			column="type"				jdbcType="INTEGER"/>		<result property="createId" 		column="create_id"			jdbcType="VARCHAR"/>		<result property="createTime" 		column="create_time"		jdbcType="TIMESTAMP"/>		<result property="modifyId" 		column="modify_id"			jdbcType="VARCHAR"/>		<result property="modifyTime" 		column="modify_time"		jdbcType="TIMESTAMP"/>	</resultMap>		<sql id="sql_search_where">		<if test="null != id">			and id = #{id}									</if>		<if test="null != totalId">		and total_id = #{totalId}						</if>		<if test="null != type">		and type = #{type}								</if>		<if test="null != startTime">   <![CDATA[ and create_time >= #{startTime}]]> 	</if>		<if test="null != endTime">   	<![CDATA[ and create_time <= #{endTime}]]> 		</if>		<if test="null != fileName">    and file_name = #{fileName}						</if>	</sql>		<select id="listPage" parameterType="TBcUnionBackHead" resultMap="BaseResultMap">		select t1.* from t_bc_union_back_head t1		<if test="null != searchCode">			, t_bc_union_back_body t2, tc_building t3		</if>		where 1 = 1		<if test="null != id">			and t1.id = #{id}									</if>		<if test="null != totalId">		and t1.total_id = #{totalId}						</if>		<if test="null != type">		and t1.type = #{type}								</if>		<if test="null != startTime">   <![CDATA[ and t1.create_time >= #{startTime}]]> 	</if>		<if test="null != endTime">   	<![CDATA[ and t1.create_time <= #{endTime}]]> 		</if>		<if test="null != fileName">    and t1.file_name = #{fileName}						</if>		<if test="null != searchCode">			and t1.id = t2.head_id			and t2.building_code = t3.building_code			and t3.house_code like CONCAT('%',#{searchCode,jdbcType=VARCHAR},'%')		</if>	</select>		<select id="findByObj" parameterType="TBcUnionBackHead" resultMap="BaseResultMap">		select * from t_bc_union_back_head		where 1 = 1		<include refid="sql_search_where"/>    </select>		<insert id="insert" parameterType="TBcUnionBackHead">		insert into t_bc_union_back_head		(			id,			file_name,			total_id,			total_count,			total_amount,			complete_count,			complete_amount,			type,			create_id,			create_time,			modify_id,			modify_time		)		values		(			<if test="null == id"> UPPER(UUID()) ,</if>			<if test="null != id"> #{id}, 		  </if>			#{fileName},			#{totalId},			#{totalCount},			#{totalAmount},			#{completeCount},			#{completeAmount},			#{type},			#{createId},			#{createTime},			#{modifyId},			#{modifyTime}			)	</insert></mapper>